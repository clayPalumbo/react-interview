{"ast":null,"code":"var _jsxFileName = \"/Users/claypalumbo/Desktop/code/react-interview/frontend/src/routes/GoogleMapComponent.jsx\";\nimport React, { Component } from \"react\";\nimport { compose, withProps, withHandlers, withStateHandlers } from \"recompose\";\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker, InfoWindow } from \"react-google-maps\";\nimport { MarkerClusterer } from 'react-google-maps/lib/components/addons/MarkerClusterer';\nimport m1 from '../imgs/m1.png';\nconst apiKey = 'AIzaSyBdncZvkNUpZiLS-07md2po65CCB9SzrH4';\nconst MyMapComponent = compose(withProps({\n  googleMapURL: \"https://maps.googleapis.com/maps/api/js?key=\".concat(apiKey, \"&v=3.exp&libraries=geometry,drawing,places\"),\n  loadingElement: React.createElement(\"div\", {\n    style: {\n      height: \"100%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }),\n  containerElement: React.createElement(\"div\", {\n    style: {\n      height: \"700px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }),\n  mapElement: React.createElement(\"div\", {\n    style: {\n      height: \"100%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  })\n}), withStateHandlers(() => ({\n  isOpen: false\n}), {\n  onToggleOpen: ({\n    isOpen\n  }) => () => ({\n    isOpen: !isOpen\n  })\n}), withHandlers({\n  onMarkerClustererClick: () => markerClusterer => {\n    const clickedMarkers = markerClusterer.getMarkers();\n    console.log(\"Number of markers clicked: \" + clickedMarkers.length);\n  }\n}), withScriptjs, withGoogleMap)(props => React.createElement(GoogleMap, {\n  defaultZoom: 4,\n  defaultCenter: {\n    lat: 39.5,\n    lng: -98.5\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 39\n  },\n  __self: this\n}, React.createElement(MarkerClusterer, {\n  onClick: props.onMarkerClustererClick,\n  averageCenter: true,\n  enableRetinaIcons: true,\n  gridSize: 60,\n  maxZoom: 14,\n  styles: [{\n    height: 53,\n    url: m1,\n    width: 53\n  }],\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 42\n  },\n  __self: this\n}, props.markers)));\nexport default class GoogleMapComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.showInfo = i => {\n      console.log(i);\n      this.setState({\n        showInfoIndex: i\n      });\n    };\n\n    this.state = {\n      showInfoIndex: null\n    };\n  }\n\n  componentDidMount() {\n    fetch('/react-interview/getLowesStores').then(res => {\n      return res.json();\n    }).then(locations => {\n      const markers = locations.map((site, i) => {\n        const markerLatLng = {\n          position: {\n            lat: site.geometry.location.lat,\n            lng: site.geometry.location.lng\n          }\n        };\n        return React.createElement(Marker, Object.assign({\n          key: i\n        }, markerLatLng, {\n          site: site,\n          onClick: () => this.props.onToggleOpen,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }), this.props.isOpen && React.createElement(InfoWindow, {\n          onCloseClick: this.props.onToggleOpen,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"container-fluid\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, site.name), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, site.number)))));\n      });\n      this.setState({\n        markers: markers\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(MyMapComponent, {\n      isMarkerShown: true,\n      markers: this.state.markers,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/claypalumbo/Desktop/code/react-interview/frontend/src/routes/GoogleMapComponent.jsx"],"names":["React","Component","compose","withProps","withHandlers","withStateHandlers","withScriptjs","withGoogleMap","GoogleMap","Marker","InfoWindow","MarkerClusterer","m1","apiKey","MyMapComponent","googleMapURL","loadingElement","height","containerElement","mapElement","isOpen","onToggleOpen","onMarkerClustererClick","markerClusterer","clickedMarkers","getMarkers","console","log","length","props","lat","lng","url","width","markers","GoogleMapComponent","constructor","showInfo","i","setState","showInfoIndex","state","componentDidMount","fetch","then","res","json","locations","map","site","markerLatLng","position","geometry","location","name","number","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { compose, withProps, withHandlers, withStateHandlers } from \"recompose\";\nimport {\n    withScriptjs,\n    withGoogleMap,\n    GoogleMap,\n    Marker,\n    InfoWindow\n} from \"react-google-maps\";\nimport { MarkerClusterer } from 'react-google-maps/lib/components/addons/MarkerClusterer'\nimport m1 from '../imgs/m1.png'\n\nconst apiKey = 'AIzaSyBdncZvkNUpZiLS-07md2po65CCB9SzrH4'\n\nconst MyMapComponent = compose(\n    withProps({\n        googleMapURL:\n            `https://maps.googleapis.com/maps/api/js?key=${apiKey}&v=3.exp&libraries=geometry,drawing,places`,\n        loadingElement: <div style={{ height: `100%` }} />,\n        containerElement: <div style={{ height: `700px` }} />,\n        mapElement: <div style={{ height: `100%` }} />\n    }),\n    withStateHandlers(() => ({\n        isOpen: false,\n      }), {\n        onToggleOpen: ({ isOpen }) => () => ({\n          isOpen: !isOpen,\n        })\n      }),\n    withHandlers({\n        onMarkerClustererClick: () => (markerClusterer) => {\n            const clickedMarkers = markerClusterer.getMarkers()\n            console.log(\"Number of markers clicked: \" + clickedMarkers.length)\n        },\n    }),\n    withScriptjs,\n    withGoogleMap\n)(props => (\n    <GoogleMap\n        defaultZoom={4}\n        defaultCenter={{ lat: 39.5, lng: -98.5 }}>\n        <MarkerClusterer\n            onClick={props.onMarkerClustererClick}\n            averageCenter\n            enableRetinaIcons\n            gridSize={60}\n            maxZoom={14}\n            styles={[{ height: 53, url: m1, width: 53 }]}\n        >\n            {props.markers}\n        </MarkerClusterer>\n    </GoogleMap>\n));\n\n\nexport default class GoogleMapComponent extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            showInfoIndex: null\n        }\n    }\n\n    showInfo = (i) => {\n        console.log(i);\n        this.setState({ showInfoIndex: i })\n    }\n\n    componentDidMount() {\n        fetch('/react-interview/getLowesStores')\n            .then(res => {\n                return res.json()\n            })\n            .then(locations => {\n                const markers = locations.map((site, i) => {\n                    const markerLatLng = {\n                        position: {\n                            lat: site.geometry.location.lat,\n                            lng: site.geometry.location.lng\n                        }\n                    }\n                    return (\n                        <Marker\n                            key={i}\n                            {...markerLatLng}\n                            site={site}\n                            onClick={() => this.props.onToggleOpen}>\n                            {this.props.isOpen && <InfoWindow onCloseClick={this.props.onToggleOpen}>\n                                    <div className=\"container-fluid\">\n                                    <div className=\"row\">\n                                        <p>{site.name}</p>\n                                        <p>{site.number}</p>\n                                        </div>\n                                    </div>\n                                </InfoWindow>\n                            }\n                        </Marker>\n                    )\n                })\n                this.setState({ markers: markers })\n            });\n    }\n\n    render() {\n        return (\n            <div>\n                <MyMapComponent\n                    isMarkerShown\n                    markers={this.state.markers}\n                />\n            </div>\n        )\n    }\n\n}"]},"metadata":{},"sourceType":"module"}